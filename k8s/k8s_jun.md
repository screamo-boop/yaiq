# Список вопросов по k8s уровня junior

## 1. Что такое k8s и зачем он нужен?

<details>
  <summary>Ответ</summary>

  ```
  Kubernetes это система оркестрации контейнеров, обеспечивающая автоматическое развертывание, обновление и самовосстановление контейнерных приложений. Кроме контейнеров kubernetes управляет сетями, хранилищами и сертификатами, обеспечивая высокий уровень абстракции от физической инфраструктуры. Kubernetes обеспечивает декларативное управление и соответствует принципу desired state.
  ```
</details>

## 2. В чем разница между Pod и контейнером?

<details>
  <summary>Ответ</summary>

  ```
  Pod - минимальная единица в k8s, обеспечивающая абстракцию над контейнерами. Контейнер - стандартизированная, изолированная и портативная среда для запуска приложений. Как правило, на один Pod приходится один контейнер, но существуют ситуации, когда в рамках одного Pod запускается несколько контейнеров. Это могут быть init или sidecar контейнеры. Контейнеры, запущенные в рамках одного Pod делят между собой сеть и хранение.
  ```
</details>

## 3. Что такое Deployment? Как происходят обновления по умолчанию?

<details>
  <summary>Ответ</summary>

  ```
  Deployment - контроллер, который управляет развертыванием и обновлением приложений. Deployment обеспечивает обновление приложений без простоя, используя по умолчанию стратегию Rolling. В рамках стратегии возможно применение параметров maxUnavailable и maxSurge.
  ```
</details>

## 4. Как вручную и автоматически масштабировать приложения в k8s?

<details>
  <summary>Ответ</summary>

  ```
  Для ручного масштабирования можно применять команду kubectl scale, либо изменять параметр replicas в манифесте. Для автоматического масштабирования в Kubernetes используется Horizontal Pod Autoscaler (HPA). HPA управляет количеством реплик приложения в зависимости от CPU/Memory либо кастомных метрик.
  ```
</details>

## 5. Что такое service?

<details>
  <summary>Ответ</summary>

  ```
  Service - интерфейс сетевого доступа к Pod. Service обеспечивает логическую абстракцию над существующей сетью и позволяет обращаться к Pod по имени service. Существует несколько типов сервисов: ClusterIP, NodePort, LoadBalancer. Каждый из них применяется в зависимости от задач.
  ```
</details>

## 6. Что такое namepspace?

<details>
  <summary>Ответ</summary>

  ```
  Namespace позволяет обеспечить полную изоляцию ресурсов в пределах кластера. Namespace могут использоваться для разграничения доступа при помощи RBAC или для разделения окружений разработки в рамках одного кластера.
  ```
</details>

## 7. Что такое PV и PVC?

<details>
  <summary>Ответ</summary>

  ```
  PV - Persistent Volume - абстракция над хранением, позволяющая подключать к подам различные хранилища, как сетевые, так и локальные. PVC - Persistent Volume Claim - запрос на использование PV. PV поддерживают различные Reclaim policy, такие как Delete, Retain, Recycle (Является deprecated).
  ```
</details>

## 8. Под находится в статусе CrashLookBackOff, как производить диагностику?

<details>
  <summary>Ответ</summary>

  ```
  Чаще всего хватает команды kubectl describe pod <pod-name>, в выводе будет видно причины такого состояния. Также стоит обратить внимание на логи пода при помощи kubectl logs <pod-name>. Кроме того, стоит проверить exit-code контейнера.
  ```
</details>

## 9. Что такое init контейнеры?

<details>
  <summary>Ответ</summary>

  ```
  Init контейнеры - контейнеры, которые выполняются до запуска основного контейнера. Их можно использовать для инициализации данных, например, для выполнения миграций БД, заполнения кэша и реализации любых операций, требующихся до запуска приложения. Init контейнеры всегда выполняются последовательно и завершаются до запуска основного контейнера. Init контейнеры не поддерживают livnessProbe.
  ```
</details>

## 10. Что такое Taints и Tolerations?

<details>
  <summary>Ответ</summary>

  ```
  Taints и Tolerations - механизм, позволяющий применять политики планирования на узлах. Taints - метки, которые можно применять к узлам, чтобы запретить планирование пода на узле. Tolerations - метки, которые можно применять к подам, чтобы разрешить планирование на узле с такими метками. Tolerations не гарантирует планирование на ноде, важны так же nodeSelector, affinity, свободные ресурсы и доступность ноды. 
  ```
</details>
